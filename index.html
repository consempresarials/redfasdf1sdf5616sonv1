<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <title>Eternisom - Músicas Personalizadas</title>
  <meta name="description" content="Transforme sua história em uma música única." />
  <meta name="theme-color" content="#FAF5E4">

  <!-- Critical Optimization: Preconnect to external domains -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- PRELOADER ASSETS: Baixar imagens do preloader com prioridade máxima -->
  <link rel="preload" as="image" href="https://promosquiz.online/music/v2/Logo.webp">

  <!-- Font Optimization: Preload + Non-blocking Load Strategy -->
  <link rel="preload" as="style"
    href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Lora:ital,wght@0,400..700;1,400..700&display=swap">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
    media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Lora:ital,wght@0,400..700;1,400..700&display=swap">
  </noscript>

  <!-- Critical CSS: Styles needed for First Contentful Paint (FCP) -->
  <style>
    :root {
      --brand-light: #FAF5E4;
      --brand-secondary: #4A0404;
      --brand-accent: #C5A059;
    }

    body {
      background-color: var(--brand-light);
      color: var(--brand-secondary);
      font-family: 'DM Sans', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      margin: 0;
      min-height: 100vh;
      overflow-x: hidden;
      /* Evita scroll horizontal durante load */
    }

    /* PRELOADER STYLES (INLINE PARA VELOCIDADE MÁXIMA) */
    #global-preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 99999;
      background-color: var(--brand-light);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
    }

    #global-preloader.loaded {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .preloader-logo {
      width: 160px;
      height: auto;
      margin-bottom: 2rem;
      animation: logoPulse 2s infinite ease-in-out;
    }

    .loader-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(197, 160, 89, 0.2);
      border-radius: 50%;
      border-top-color: var(--brand-secondary);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    @keyframes logoPulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 1;
      }

      50% {
        transform: scale(1.05);
        opacity: 0.9;
      }
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #FAF5E4;
    }

    ::-webkit-scrollbar-thumb {
      background: #C5A059;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #CC5500;
    }

    .animate-fadeIn {
      animation: fadeIn 0.5s ease-out forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>

  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react/": "https://esm.sh/react@18.2.0/",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "react-dom/": "https://esm.sh/react-dom@18.2.0/",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.344.0?deps=react@18.2.0",
    "@supabase/supabase-js": "https://aistudiocdn.com/@supabase/supabase-js@^2.86.0",
    "vite": "https://aistudiocdn.com/vite@^7.2.6",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.1.1"
  }
}
</script>

  <link rel="stylesheet" href="/index.css">
</head>

<body>
  <!-- PRELOADER HTML: Deve ser o primeiro elemento do body -->
  <div id="global-preloader">
    <img src="https://promosquiz.online/music/v2/Logo.webp" alt="Eternisom" class="preloader-logo" width="160"
      height="160" />
    <div class="loader-spinner"></div>
  </div>

  <div id="root"></div>

  <script type="module" src="/index.tsx"></script>
</body>

</html>